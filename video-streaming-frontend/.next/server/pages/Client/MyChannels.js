"use strict";(()=>{var e={};e.id=2478,e.ids=[2478,2888,660],e.modules={866:(e,t,s)=>{s.r(t),s.d(t,{config:()=>E,default:()=>w,getServerSideProps:()=>k,getStaticPaths:()=>D,getStaticProps:()=>y,reportWebVitals:()=>P,routeModule:()=>A,unstable_getServerProps:()=>T,unstable_getServerSideProps:()=>q,unstable_getStaticParams:()=>z,unstable_getStaticPaths:()=>_,unstable_getStaticProps:()=>B});var n={};s.r(n),s.d(n,{default:()=>Channel});var a=s(7525),r=s(9675),i=s(2533),o=s(3252),c=s.n(o),d=s(5595),l=s(997),p=s(8930),h=s(8112),x=s(9770),m=s(6689),u=s(8193),g=s(6893),j=s(2167),b=s.n(j),f=s(1795),C=s(6022);let v=[{name:"Dark",src:"https://vjs.zencdn.net/v/oceans.mp4",poster:"https://i.scdn.co/image/ab67706c0000bebb4492dc4cac4ffc505e0531a8",episodes:[{name:"Episode 1",Duration:"25",src:"https://vjs.zencdn.net/v/oceans.mp4",poster:"https://i.scdn.co/image/ab67706c0000bebb4492dc4cac4ffc505e0531a8",desc:"Another episode description."},{name:"Episode 2",Duration:"30",src:"https://vjs.zencdn.net/v/oceans.mp4",poster:"https://i.scdn.co/image/ab67706c0000bebb4492dc4cac4ffc505e0531a8",desc:"Another episode description."},{name:"Episode 3",Duration:"30",src:"https://vjs.zencdn.net/v/oceans.mp4",poster:"https://i.scdn.co/image/ab67706c0000bebb4492dc4cac4ffc505e0531a8",desc:"Another episode description."},{name:"Episode 4",Duration:"30",src:"https://vjs.zencdn.net/v/oceans.mp4",poster:"https://i.scdn.co/image/ab67706c0000bebb4492dc4cac4ffc505e0531a8",desc:"Another episode description."},{name:"Episode 5",Duration:"30",src:"https://vjs.zencdn.net/v/oceans.mp4",poster:"https://i.scdn.co/image/ab67706c0000bebb4492dc4cac4ffc505e0531a8",desc:"Another episode description."}]},{name:"Stranger Things",src:"https://vjs.zencdn.net/v/oceans.mp4",poster:"https://i.scdn.co/image/ab67706c0000bebb4492dc4cac4ffc505e0531a8",episodes:[{name:"Episode 1",Duration:"40",src:"https://vjs.zencdn.net/v/oceans.mp4",poster:"https://i.scdn.co/image/ab67706c0000bebb4492dc4cac4ffc505e0531a8",desc:"Description for Stranger Things Episode 1."},{name:"Episode 2",Duration:"35",src:"https://vjs.zencdn.net/v/oceans.mp4",poster:"https://i.scdn.co/image/ab67706c0000bebb4492dc4cac4ffc505e0531a8",desc:"Description for Stranger Things Episode 2."}]},{name:"Breaking Bad",src:"https://vjs.zencdn.net/v/oceans.mp4",poster:"https://i.scdn.co/image/ab67706c0000bebb4492dc4cac4ffc505e0531a8",episodes:[{name:"Episode 1",Duration:"45",src:"https://vjs.zencdn.net/v/oceans.mp4",poster:"https://i.scdn.co/image/ab67706c0000bebb4492dc4cac4ffc505e0531a8",desc:"Description for Breaking Bad Episode 1."},{name:"Episode 2",Duration:"50",src:"https://vjs.zencdn.net/v/oceans.mp4",poster:"https://i.scdn.co/image/ab67706c0000bebb4492dc4cac4ffc505e0531a8",desc:"Description for Breaking Bad Episode 2."}]}],MyChannels_VideoPlayer=({src:e,poster:t,name:s})=>l.jsx(p.Box,{border:"1px solid transparent",borderRadius:5,cursor:"pointer",_hover:{scale:"1.5"},width:["100%","350px"],mr:"1rem",children:l.jsx(x.n,{src:e,poster:t,name:s})}),ChannelOutline=({data:e,showName:t,setShowName:s})=>{let[n,a]=(0,m.useState)(),handleClick=async(r,i)=>{t===i?s(""):s(i),await b().get(f.f+`creator/mychannel/${e.id}`,{method:"GET",withCredentials:!0}).then(e=>{a(e.data.channel.videos)}).catch(e=>{console.error(e)}),setEpisodeData(n)};return(0,l.jsxs)(p.VStack,{spacing:"2rem",my:"2rem",children:[(0,l.jsxs)(p.HStack,{w:"100%",justifyContent:"space-between",children:[l.jsx(p.Heading,{size:"md",children:"Channel 1"}),(0,l.jsxs)(p.Text,{children:["Created On: ",l.jsx("b",{children:"02-12-22"})]})]}),l.jsx(p.HStack,{w:"100%",overflowX:"auto",children:v.map((e,t)=>(0,l.jsxs)(p.Box,{onClick:()=>handleClick(t,e.name),children:[l.jsx(p.Box,{maxWidth:"100%",height:{base:"100%",md:"auto"},children:l.jsx(MyChannels_VideoPlayer,{poster:e.poster,name:e.name,src:e.src})}),l.jsx(p.Text,{mt:"0.5rem",children:e.name})]},t))}),l.jsx(p.Text,{textAlign:"end",w:"100%",textDecor:"underline",children:"View All"})]})},AddEpisode=({index:e,tempEpisodeData:t,setTempEpisodeData:s,setEpisodes:n})=>{let handleVideoFileChange=async e=>{let n=e.target.files[0],a=new FormData;a.append("video",n);try{let e=await b().post(f.f+"other/uploadVideo",a,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}),n=e.data.video.src;console.log(n),s({...t,file:n})}catch(e){console.error(e)}},handlePosterFileChange=async e=>{let n=e.target.files[0],a=new FormData;a.append("image",n);try{let e=await b().post(f.f+"other/uploadPicture",a,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}),n=e.data.image.src;console.log(n),s({...t,poster:n})}catch(e){console.error(e)}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(p.HStack,{w:"100%",justifyContent:"space-between",children:[l.jsx(p.Heading,{size:"md",children:"Add Episode"}),l.jsx(p.Icon,{onClick:()=>{n(t=>t.filter((t,s)=>s!==e)),s(t=>t.filter((t,s)=>s!==e))},cursor:"pointer",color:"black",as:u.SV5,boxSize:6})]}),(0,l.jsxs)(p.Box,{w:"100%",children:[l.jsx(p.Text,{children:"Title"}),l.jsx(p.Input,{onChange:e=>s({...t,title:e.target.value}),value:t?.title,bg:"#414141",placeholder:"Title"})]}),(0,l.jsxs)(p.Box,{w:"100%",children:[l.jsx(p.Text,{children:"Upload File"}),(0,l.jsxs)(p.Button,{mb:"1rem",justifyContent:"space-between",w:"100%",rightIcon:l.jsx(u.Lfi,{size:20}),children:["Select Video from Device",l.jsx(p.Input,{onChange:handleVideoFileChange,w:"100%",type:"file",accept:"video/*",style:{opacity:0,position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),"                "]}),(0,l.jsxs)(p.Button,{justifyContent:"space-between",w:"100%",rightIcon:l.jsx(u.Lfi,{size:20}),children:["Select Poster from Device",l.jsx(p.Input,{onChange:handlePosterFileChange,w:"100%",type:"file",accept:"image/*",style:{opacity:0,position:"absolute",top:0,left:0,width:"100%",height:"100%"}})]})]}),(0,l.jsxs)(p.Box,{w:"100%",children:[l.jsx(p.Text,{children:"Description"}),l.jsx(p.Textarea,{bg:"#414141",onChange:e=>s({...t,description:e.target.value}),placeholder:"Description"})]})]})},AddChannelModal=({isOpen:e,onClose:t})=>{let[s,n]=(0,m.useState)([]),[a,r]=(0,m.useState)({title:"",file:"",poster:"",description:""});console.log(a);let[i,o]=(0,m.useState)([]),[c,d]=(0,m.useState)(),{user:h}=(0,C.useSelector)(e=>e.auth);console.log("Episode Data: ",i);let HandleSave=async()=>{o([...i,a]);let e=await b().post(f.f+"creator/mychannel/add",{name:c,episodes:i},{headers:{"Content-type":"application/json"},withCredentials:!0});console.log(e)},clearEpisodeData=()=>{o([]),n([]),r({...a,title:"",description:"",poster:"",file:""}),d("")};return l.jsx(l.Fragment,{children:(0,l.jsxs)(p.Modal,{isOpen:e,onClose:t,children:[l.jsx(p.ModalOverlay,{}),(0,l.jsxs)(p.ModalContent,{py:"2rem",minH:["auto","500px"],minW:["auto","700px"],bg:"#232323",children:[l.jsx(p.ModalCloseButton,{onClick:clearEpisodeData}),l.jsx(p.ModalBody,{children:(0,l.jsxs)(p.VStack,{h:"100%",px:["auto","5rem"],w:"100%",justifyContent:"center",alignItems:"center",children:[(0,l.jsxs)(p.VStack,{w:"100%",spacing:"1rem",alignItems:"flex-start",children:[l.jsx(p.Heading,{size:"md",children:"Add Channel"}),(0,l.jsxs)(p.Box,{w:"100%",children:[l.jsx(p.Text,{children:"Channel Name"}),l.jsx(p.Input,{value:c,onChange:e=>d(e.target.value),bg:"#414141",placeholder:"Enter Channel Name"})]}),s.map((e,t)=>l.jsx(AddEpisode,{tempEpisodeData:a,setTempEpisodeData:r,index:t,episodes:s,setEpisodes:n},t))]}),l.jsx(p.Button,{variant:"outline",w:"100%",onClick:()=>{o([...i,a]),console.log("Episode Data: ",i),n([...s,l.jsx(AddEpisode,{},s.length)])},children:"Add Next Episode"}),(0,l.jsxs)(p.HStack,{children:[l.jsx(p.Button,{w:"100%",onClick:HandleSave,children:"Save"}),l.jsx(p.Button,{onClick:clearEpisodeData,w:"100%",children:"Clear"})]})]})})]})]})})};function Channel(){let{isOpen:e,onOpen:t,onClose:s}=(0,p.useDisclosure)(),[n,a]=(0,m.useState)(),[r,i]=(0,m.useState)(),[o,c]=(0,m.useState)();return(0,m.useEffect)(()=>{let getChannels=async()=>{await b().get(f.f+"creator/mychannels",{method:"GET",withCredentials:!0}).then(e=>{i(e.data.channels)}).catch(e=>{console.error(e)})};getChannels()},[]),l.jsx(h.Z,{children:(0,l.jsxs)(p.Box,{mx:"2rem",children:[(0,l.jsxs)(p.Stack,{direction:"row",mt:"1rem",mb:"3rem",justifyContent:"space-between",children:[l.jsx(p.Heading,{size:"lg",children:"My Channels"}),l.jsx(p.Button,{onClick:t,children:"Create Channel"})]}),(0,l.jsxs)(p.Box,{children:[l.jsx(ChannelOutline,{showName:n,ChannelData:v,setShowName:a}),l.jsx(p.Divider,{}),v.map(e=>{if(e.name==n)return e.episodes.map((e,t)=>(0,l.jsxs)(p.Stack,{cursor:"pointer",my:"1rem",justifyContent:["center","space-between"],width:"100%",p:"1.5rem",bg:"#232323",direction:{base:"column",md:"row"},alignItems:"center",children:[l.jsx(p.Box,{maxWidth:"100%",height:{base:"100%",md:"auto"},children:l.jsx(MyChannels_VideoPlayer,{poster:e.poster,name:e.name,src:e.src})}),(0,l.jsxs)(p.Stack,{alignItems:"flex-start",justifyContent:"flex-start",s:!0,direction:"column",children:[l.jsx(p.Heading,{size:"md",children:e.name}),(0,l.jsxs)(p.Text,{children:[e.Duration," min"]}),l.jsx(p.Text,{children:e.desc})]}),l.jsx(p.Stack,{direction:{base:"row",md:"column"},alignSelf:"normal",justifyContent:"space-between",children:l.jsx(p.Icon,{as:g.Nte,boxSize:6})})]},t))})]}),l.jsx(AddChannelModal,{isOpen:e,onClose:s})]})})}let S=a.PagesRouteModule,w=(0,i.l)(n,"default"),y=(0,i.l)(n,"getStaticProps"),D=(0,i.l)(n,"getStaticPaths"),k=(0,i.l)(n,"getServerSideProps"),E=(0,i.l)(n,"config"),P=(0,i.l)(n,"reportWebVitals"),B=(0,i.l)(n,"unstable_getStaticProps"),_=(0,i.l)(n,"unstable_getStaticPaths"),z=(0,i.l)(n,"unstable_getStaticParams"),T=(0,i.l)(n,"unstable_getServerProps"),q=(0,i.l)(n,"unstable_getServerSideProps"),A=new S({definition:{kind:r.x.PAGES,page:"/Client/MyChannels",pathname:"/Client/MyChannels",bundlePath:"",filename:""},components:{App:d.default,Document:c()},userland:n})},1795:(e,t,s)=>{s.d(t,{f:()=>n});let n="http://localhost:5000/api/v1/"},6153:e=>{e.exports=require("@auth0/nextjs-auth0/client")},4513:e=>{e.exports=require("@chakra-ui/icons")},8930:e=>{e.exports=require("@chakra-ui/react")},5184:e=>{e.exports=require("@reduxjs/toolkit")},2167:e=>{e.exports=require("axios")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},8743:e=>{e.exports=require("react-datepicker")},6405:e=>{e.exports=require("react-dom")},6022:e=>{e.exports=require("react-redux")},1187:e=>{e.exports=require("react-toastify")},997:e=>{e.exports=require("react/jsx-runtime")},5335:e=>{e.exports=require("video.js")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[1329,8400,3252,1763,5434,5595,3244,7816,1426,6011,2470,8112,9770],()=>__webpack_exec__(866));module.exports=s})();