(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4823],{16345:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Admin/Category",function(){return r(3328)}])},3328:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Category}});var n=r(85893),l=r(61557),o=r(10991),a=r(40853),i=r(99840),s=r(80510),c=r(4693),d=r(15115),g=r(64698),h=r(14225),b=r(34292),u=r(8193),x=r(47516),C=r(77068),p=r(67294),j=r(57219),m=r(73459),k=r(11358),f=r.n(k),A=r(6154),y=r(50585);let TableTemplate=e=>{let{data:t,text:r,columns:b,Actions:u,to:x,Availability:k,itemsPerPage:A}=e;var y=0;A=A||10;let[_,v]=(0,p.useState)(0),w=_*A,T=w+A,P=null==t?void 0:t.slice(w,T),{searchQuery:R}=(0,C.A)();console.log(P);let handlePageClick=e=>{let{selected:t}=e;v(t)},E=Math.ceil((null==t?void 0:t.length)/A);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.x,{mt:"1rem",borderRadius:"10px",borderWidth:"2px",borderColor:"blackAlpha.600",bg:"#232323",p:4,children:(0,n.jsxs)(o.i,{children:[r?(0,n.jsx)(a.R,{children:r}):null,(0,n.jsx)(i.h,{bg:"#181818",children:(0,n.jsxs)(s.Tr,{children:[b.map(e=>(0,n.jsx)(c.Th,{textAlign:"center",maxWidth:"10rem",px:"10px",borderRight:"1px",borderColor:"blackAlpha.600",color:"white",children:e},e)),u?(0,n.jsx)(c.Th,{textAlign:"center",borderRight:"1px",borderColor:"blackAlpha.600",color:"white",children:"Actions"}):null]})}),(0,n.jsx)(d.p,{children:null==P?void 0:P.map((e,t)=>{var r;return null===(r=e.subcategories)||void 0===r?void 0:r.map((t,r)=>(y++,console.log(e),(0,n.jsxs)(s.Tr,{style:y%2==0?{background:"#232323"}:{background:"#323232"},children:[(0,n.jsx)(g.Td,{textAlign:"center",borderRight:"1px",borderBottom:0,borderColor:"blackAlpha.600",children:e.name}),(0,n.jsx)(g.Td,{textAlign:"center",borderRight:"1px",borderBottom:0,borderColor:"blackAlpha.600",children:t.name}),(0,n.jsx)(g.Td,{textAlign:"center",borderRight:"1px",borderBottom:0,borderColor:"blackAlpha.600",children:t.desc}),u?(0,n.jsxs)(g.Td,{textAlign:"center",borderBottom:0,borderRight:"1px",borderColor:"blackAlpha.600",children:[" ",(0,n.jsx)(u,{to:x})," "]}):null]},r)))})})]})}),A>=10?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(f(),{previousLabel:0===_?(0,n.jsx)(h.z,{bg:"#232323",leftIcon:(0,n.jsx)(j.w,{}),onClick:()=>handlePageClick({selected:_-1}),isDisabled:!0}):(0,n.jsx)(h.z,{bg:"#232323",_hover:{bg:"#323232"},leftIcon:(0,n.jsx)(j.w,{}),onClick:()=>handlePageClick({selected:_-1})}),nextLabel:_===E-1?(0,n.jsx)(h.z,{bg:"#232323",rightIcon:(0,n.jsx)(m.X,{}),onClick:()=>handlePageClick({selected:_+1}),isDisabled:!0}):(0,n.jsx)(h.z,{bg:"#232323",_hover:{bg:"#323232"},rightIcon:(0,n.jsx)(m.X,{}),onClick:()=>handlePageClick({selected:_+1})}),breakLabel:"...",pageCount:Math.ceil((null==t?void 0:t.length)/A),marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:handlePageClick,containerClassName:"pagination",activeClassName:"active"})}):null]})},_=["name","Sub_Category","Description"],CategoryActions=()=>(0,n.jsxs)(b.U,{align:"center",justifyContent:"space-around",children:[(0,n.jsx)(x.Hlf,{cursor:"pointer",size:25}),(0,n.jsx)(u.VPh,{cursor:"pointer",size:25})]});function CategoryTable(){let{searchQuery:e,isFilter:t}=(0,C.A)(),[r,l]=(0,p.useState)();return(0,p.useEffect)(()=>{let fetchData=async()=>{try{let e=await A.Z.get("".concat(y.f,"users/category-management"),{headers:{"Content-type":"application/json"},withCredentials:!0});l(e.data.categories)}catch(e){console.error("Error fetching data:",e)}};fetchData()},[]),(0,n.jsx)(TableTemplate,{data:(null==e?void 0:e.length)>0&&t&&e?r.filter(t=>t.Category_Name.toLowerCase().includes(e.toLowerCase())||t.Sub_Categories.some(t=>t.Sub_Category_name.toLowerCase().includes(e.toLowerCase()))):r,columns:_,Actions:CategoryActions})}var v=r(59062),w=r(88349);function Category(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v.x,{heading:"Category Management",button1:"Add Category",button2:"Add Sub Category"}),(0,n.jsx)(w.E,{}),(0,n.jsx)(CategoryTable,{})]})}}},function(e){e.O(0,[7621,8730,7729,1838,9774,2888,179],function(){return e(e.s=16345)}),_N_E=e.O()}]);